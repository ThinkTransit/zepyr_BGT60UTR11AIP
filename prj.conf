CONFIG_GPIO=y
CONFIG_SPI=y

CONFIG_CLOCK_CONTROL_NRF_K32SRC_XTAL=n
CONFIG_CLOCK_CONTROL_NRF_K32SRC_SYNTH=y

# Sensor subsystem for BGT60
CONFIG_SENSOR=y

# BGT60 radar driver
CONFIG_BGT60_RADAR=y
CONFIG_BGT60_RADAR_SENSOR_DEFAULT_FIFO_BLOCKS=256

# RTIO support for sensor API
CONFIG_RTIO=y
CONFIG_RTIO_CONSUME_SEM=y

# Enable RTIO memory pool support to fix -116 ESTALE error
CONFIG_RTIO_SYS_MEM_BLOCKS=y
CONFIG_SYS_MEM_BLOCKS=y

# Increase memory pool sizes for RTIO buffer allocation
CONFIG_HEAP_MEM_POOL_SIZE=8192
CONFIG_MAIN_STACK_SIZE=2048

CONFIG_PM=y
CONFIG_PM_DEVICE=y
CONFIG_POWEROFF=y

# Shell configuration
CONFIG_SHELL=y
CONFIG_SHELL_BACKEND_SERIAL=y
CONFIG_SHELL_PROMPT_UART="IA-RADAR: "
CONFIG_SHELL_CMD_BUFF_SIZE=256
CONFIG_SHELL_PRINTF_BUFF_SIZE=512
CONFIG_KERNEL_SHELL=y

# Enable shell history for up/down arrow keys
CONFIG_SHELL_HISTORY=y
CONFIG_SHELL_STATS=n

# Enable reboot command
CONFIG_REBOOT=y

# BLE configuration disabled
# CONFIG_BT=y

# High-speed UART configuration  
CONFIG_SERIAL=y
CONFIG_UART_CONSOLE=y
CONFIG_UART_LINE_CTRL=y
CONFIG_CONSOLE_SUBSYS=y

# Disable logging to avoid linker issues with SPI_RTIO
# CONFIG_LOG=y

# Enable floating point printf support
CONFIG_CBPRINTF_FP_SUPPORT=y

# === Power Optimization ===
# Runtime power management for automatic device suspend
CONFIG_PM_DEVICE_RUNTIME=y
CONFIG_PM_POLICY_DEFAULT=y

# UART power optimization - allow UART to go idle
CONFIG_UART_CONSOLE_INPUT_EXPIRED=y
CONFIG_UART_CONSOLE_INPUT_EXPIRED_TIMEOUT=60000

# Disable debug features to reduce overhead
CONFIG_DEBUG=n
CONFIG_ASSERT=n
CONFIG_EARLY_CONSOLE=n

# Use RC oscillator for 32kHz (you already have SYNTH, this is alternative)
# CONFIG_CLOCK_CONTROL_NRF_K32SRC_RC=y
# CONFIG_CLOCK_CONTROL_NRF_K32SRC_500PPM=y

# Disable unused features
CONFIG_USB_DEVICE_STACK=n

# Memory optimization
CONFIG_HEAP_MEM_POOL_SIZE=4096
CONFIG_MAIN_STACK_SIZE=1024